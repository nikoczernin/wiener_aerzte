# 2022
year <- 2022
ärztinnen <- paste0("data/jahrbuch-wien/", year, "/gesundheit/") %>%
list.files(pattern="tab_6.1.4", full.names = T) %>%
read.delim( sep=";", skip=0) %>%
mutate(across(everything(), ~ na_if(.x, ""))) %>%
fill(everything(), .direction = "down") %>%
row_to_names(3) %>%
tail(-1) %>%
head(-2) %>%
mutate(
Bezirk_Nr = str_extract(Gemeindebezirk, "\\d+(?=,)") %>% as.integer(),
Bezirk = str_remove(Gemeindebezirk, "^\\d+\\,\\s*"),
Jahr = year,
across(-Bezirk, as.integer)
) %>%
select(Bezirk, Bezirk_Nr, Jahr, everything(), -Gemeindebezirk) %>%
remove_rownames() %>%
rename_with(~ str_replace_all(.x, "[\\-\\.[:space:]]+", ".")) %>%
bind_rows(ärztinnen)
# 2023
year <- 2023
ärztinnen <- paste0("data/jahrbuch-wien/", year, "/gesundheit/") %>%
list.files(pattern="tab_6.1.4", full.names = T) %>%
read.delim( sep=";", skip=0) %>%
mutate(across(everything(), ~ na_if(.x, ""))) %>%
fill(everything(), .direction = "down") %>%
row_to_names(3) %>%
tail(-1) %>%
head(-2) %>%
mutate(
Bezirk_Nr = str_extract(Gemeindebezirk, "\\d+(?=.)") %>% as.integer(),
Bezirk = str_remove(Gemeindebezirk, "^\\d+\\.\\s*"),
Jahr = year,
across(-Bezirk, as.integer)
) %>%
select(Bezirk, Bezirk_Nr, Jahr, everything(), -Gemeindebezirk) %>%
remove_rownames() %>%
rename_with(~ str_replace_all(.x, "[\\-\\.[:space:]]+", ".")) %>%
bind_rows(ärztinnen)
# 2024
year <- 2024
ärztinnen <- paste0("data/jahrbuch-wien/", year, "/gesundheit/") %>%
list.files(pattern="tab_6.1.4", full.names = T) %>%
read.delim( sep=";", skip=0) %>%
mutate(across(everything(), ~ na_if(.x, ""))) %>%
fill(everything(), .direction = "down") %>%
row_to_names(3) %>%
tail(-1) %>%
head(-2) %>%
mutate(
Bezirk_Nr = str_extract(Gemeindebezirk, "\\d+(?=.)") %>% as.integer(),
Bezirk = str_remove(Gemeindebezirk, "^\\d+\\.\\s*"),
Jahr = year,
across(-Bezirk, as.integer)
) %>%
select(Bezirk, Bezirk_Nr, Jahr, everything(), -Gemeindebezirk) %>%
remove_rownames() %>%
rename_with(~ str_replace_all(.x, "[\\-\\.[:space:]]+", ".")) %>%
bind_rows(ärztinnen)
ärztinnen
bezirke_wien <- st_read("data/geojson/bezirke_95_geo.json") %>%
filter(grepl("^Wien.*,", name)) %>%
mutate(
Bezirk = name %>% str_extract("(?<=,).*$"),
Bezirk_Nr = name %>% str_extract("(?<=Wien)\\s*\\d+(?=.)") %>% as.numeric(),
Bezirk_Nr_Name=paste0("(", sprintf("%02d", Bezirk_Nr), ") ", Bezirk)
) %>%
print()
data.frame(
name = bezirke_wien$name,
val = runif(nrow(bezirke_wien), 50, 100)
) %>%
right_join(bezirke_wien, by="name") %>%
print() %>%
# Choropleth zeichnen
ggplot(aes(geometry=geometry)) +
geom_sf(aes(fill = val), color = "white") +
scale_fill_viridis_c(option = "plasma") +
labs(title = "Choropleth: Wiener Gemeindebezirke",
fill = "Score") +
theme_minimal() +
theme(
axis.text = element_blank(),
panel.grid = element_blank(),
aspect.ratio = .8 # Plot Seitenverhältnisse ändern
)
year = 2024
krankenhäuser %>%
filter(Jahr == year) %>%
group_by(Jahr, Bezirk_Nr) %>%
count() %>%
right_join(bezirke_wien) %>%
mutate(n=n %>% replace_na(0)) %>%
ggplot(aes(geometry=geometry)) +
geom_sf(aes(fill = n), color = "white") +
scale_fill_viridis_c(option = "plasma") +
labs(
title = paste("Anzahl Krankenanstalten pro Wiener Gemeindebezirk", year),
fill = ""
) +
theme_minimal() +
# scale_fill_gradient(low = "white", high = "darkred") +
scale_fill_gradientn(colors = c("white", "snow", "darkred"),
values = scales::rescale(c(0, 1, 80)),) +
theme(
axis.text = element_blank(),
panel.grid = element_blank(),
aspect.ratio = .8 # Plot Seitenverhältnisse ändern
)
year = 2024
krankenhäuser %>%
filter(Jahr == year) %>%
group_by(Jahr, Bezirk_Nr) %>%
summarise(n = sum(Ärztinnen.und.Ärzte, na.rm=T)) %>%
right_join(bezirke_wien) %>%
mutate(n=n %>% replace_na(0)) %>%
# print() %>%
ggplot(aes(geometry=geometry)) +
geom_sf(aes(fill = n), color = "white") +
scale_fill_viridis_c(option = "plasma") +
labs(
title = paste("Anzahl Stationierte Ärzt:innen pro Wiener Gemeindebezirk", year),
fill = ""
) +
theme_minimal() +
scale_fill_gradientn(colors = c("white", "lightblue1", "steelblue", "steelblue4"),
values = scales::rescale(c(0, 1, 80)),) +
theme(
axis.text = element_blank(),
panel.grid = element_blank(),
aspect.ratio = .8 # Plot Seitenverhältnisse ändern
)
year = 2024
ärztinnen %>%
filter(Jahr == year) %>%
group_by(Jahr, Bezirk_Nr) %>%
summarise(n = sum(FachärztInnen, na.rm=T)) %>%
right_join(bezirke_wien) %>%
mutate(n=n %>% replace_na(0)) %>%
ggplot(aes(geometry=geometry)) +
geom_sf(aes(fill = n), color = "white") +
scale_fill_viridis_c(option = "plasma") +
labs(
title = paste("Niedergelassene Ärzt:innen pro Wiener Gemeindebezirk", year),
fill = ""
) +
theme_minimal() +
scale_fill_gradientn(colors = c("white", "lightblue1", "steelblue", "steelblue4"),
values = scales::rescale(c(0, 1, 80)),) +
theme(
axis.text = element_blank(),
panel.grid = element_blank(),
aspect.ratio = .8 # Plot Seitenverhältnisse ändern
)
year = 2024
ärztinnen %>%
filter(Jahr == year) %>%
group_by(Jahr, Bezirk_Nr) %>%
summarise(n = sum(`Öffentliche.Apotheken`, na.rm=T)) %>%
right_join(bezirke_wien) %>%
mutate(n=n %>% replace_na(0)) %>%
ggplot(aes(geometry=geometry)) +
geom_sf(aes(fill = n), color = "white") +
scale_fill_viridis_c(option = "plasma") +
labs(
title = paste("Öffentliche Apotheken pro Wiener Gemeindebezirk", year),
fill = ""
) +
theme_minimal() +
scale_fill_gradientn(colors = c("azure1", "seagreen"),
values = scales::rescale(c(0, 1, 80)),) +
theme(
axis.text = element_blank(),
panel.grid = element_blank(),
aspect.ratio = .8 # Plot Seitenverhältnisse ändern
)
year = 2024
bevölkerung %>%
filter(Jahr == year) %>%
group_by(Jahr, Bezirk_Nr) %>%
summarise(n = sum(`Bevölkerung`, na.rm=T)) %>%
right_join(bezirke_wien) %>%
mutate(n=n %>% replace_na(0)) %>%
ggplot(aes(geometry=geometry)) +
geom_sf(aes(fill = n), color = "white") +
scale_fill_viridis_c(option = "plasma") +
labs(
title = paste("Bevölkerung pro Wiener Gemeindebezirk", year),
fill = ""
) +
theme_minimal() +
scale_fill_gradientn(colors = c("bisque1", "sienna"),
labels = label_comma(),
values = scales::rescale(c(0, 1, 80)),) +
theme(
axis.text = element_blank(),
panel.grid = element_blank(),
aspect.ratio = .8 # Plot Seitenverhältnisse ändern
)
# year = 2024
krankenhäuser %>%
group_by(Jahr, Bezirk_Nr) %>%
summarise(Ärztinnen.und.Ärzte = sum(`Ärztinnen.und.Ärzte`, na.rm=T)) %>%
left_join(bevölkerung) %>%
mutate(n = Bevölkerung / Ärztinnen.und.Ärzte) %>%
filter(Jahr == year) %>%
right_join(bezirke_wien) %>%
mutate(n=n %>% replace_na(0)) %>%
ggplot(aes(geometry=geometry)) +
geom_sf(aes(fill = n), color = "white") +
scale_fill_viridis_c(option = "plasma") +
labs(
title = paste("Einwohner pro stationerter Ärztin pro Wiener Gemeindebezirk", year),
fill = ""
) +
theme_minimal() +
scale_fill_gradientn(colors = c("white", "bisque1", "sienna"),
labels = label_comma(),
values = scales::rescale(c(0, 1, 80)),) +
theme(
axis.text = element_blank(),
panel.grid = element_blank(),
aspect.ratio = .8 # Plot Seitenverhältnisse ändern
)
# year = 2024
krankenhäuser %>%
group_by(Jahr, Bezirk_Nr) %>%
summarise(
Ärztinnen.und.Ärzte = sum(`Ärztinnen.und.Ärzte`, na.rm=T),
Stationäre.Patientinnen.und.Patienten = sum(`Stationäre.Patientinnen.und.Patienten`, na.rm=T)
) %>%
left_join(bevölkerung) %>%
mutate(n = Stationäre.Patientinnen.und.Patienten / Ärztinnen.und.Ärzte) %>%
filter(Jahr == year) %>%
right_join(bezirke_wien) %>%
mutate(n=n %>% replace_na(0)) %>%
ggplot(aes(geometry=geometry)) +
geom_sf(aes(fill = n), color = "white") +
scale_fill_viridis_c(option = "plasma") +
labs(
title = paste("Stationerte Ärzt:innen pro Patient pro Wiener Gemeindebezirk", year),
fill = ""
) +
theme_minimal() +
scale_fill_gradientn(colors = c("white", "lightblue1", "steelblue", "blue4"),
labels = label_comma(),
values = scales::rescale(c(0, 1, 80)),) +
theme(
axis.text = element_blank(),
panel.grid = element_blank(),
aspect.ratio = .8 # Plot Seitenverhältnisse ändern
)
# year = 2024
ärztinnen %>%
filter(Jahr == year) %>%
left_join(bevölkerung, by=c("Bezirk_Nr", "Jahr")) %>%
mutate(n = Bevölkerung / `Frauen.heilkunde`) %>%
right_join(bezirke_wien) %>%
mutate(n=n %>% replace_na(0)) %>%
ggplot(aes(geometry=geometry)) +
geom_sf(aes(fill = n), color = "white") +
scale_fill_viridis_c(option = "plasma") +
labs(
title = paste("Bevölkerung pro niedergelassener Frauenärzt:innen pro Wiener Gemeindebezirk", year),
fill = ""
) +
theme_minimal() +
scale_fill_gradientn(colors = c("white", "lightblue1", "steelblue", "blue4"),
labels = label_comma(),
values = scales::rescale(c(0, 1, 80)),) +
theme(
axis.text = element_blank(),
panel.grid = element_blank(),
aspect.ratio = .8 # Plot Seitenverhältnisse ändern
)
t <-200
krankenhäuser %>%
mutate(Patientinnen.pro.Arzt = Stationäre.Patientinnen.und.Patienten / Ärztinnen.und.Ärzte) %>%
group_by(Jahr, Bezirk_Nr) %>%
summarise(n = sum(Patientinnen.pro.Arzt, na.rm=T)) %>%
group_by(Bezirk_Nr) %>%
filter(!any(n < t, na.rm=T)) %>%
left_join(bezirke_wien) %>%
ggplot(aes(x=Jahr, y=n, color=Bezirk_Nr_Name)) +
geom_point() +
geom_line() +
scale_fill_viridis_c(option = "plasma") +
labs(
title = "Verlauf von in Krankenanstalten stationierte Patient:innen \npro Ärzt:in pro Wiener Gemeindebezirk",
caption = "Nur die Institute mit den höchsten k Werten werden angezeigt.",
color = ""
) +
theme_minimal() +
scale_y_continuous(labels=label_comma()) +
# scale_fill_gradientn(colors = c("white", "lightblue1", "steelblue", "blue4"),
#                      labels = label_comma(),
#                      values = scales::rescale(c(0, 1, 80)),) +
theme(
axis.title = element_blank(),
panel.grid = element_blank(),
# plot.caption = element_text(hjust = 0, size = 9)
# aspect.ratio = .8 # Plot Seitenverhältnisse ändern
)
t <- 1000
ärztinnen %>%
left_join(bevölkerung) %>%
mutate(n = Bevölkerung / FachärztInnen) %>%
right_join(bezirke_wien) %>%
mutate(n=n %>% replace_na(0)) %>%
group_by(Bezirk_Nr) %>%
filter(!any(n < t, na.rm=T)) %>%
ggplot(aes(x=Jahr, y=n, color=Bezirk_Nr_Name)) +
geom_point() +
geom_line() +
scale_fill_viridis_c(option = "plasma") +
labs(
title = "Verlauf von Bevölkerung \npro niedergelassener Fachärzt:in pro Wiener Gemeindebezirk",
caption = "Nur die Institute mit den höchsten k Werten werden angezeigt.",
color = ""
) +
theme_minimal() +
scale_y_continuous(labels=label_comma()) +
# scale_fill_gradientn(colors = c("white", "lightblue1", "steelblue", "blue4"),
#                      labels = label_comma(),
#                      values = scales::rescale(c(0, 1, 80)),) +
theme(
axis.title = element_blank(),
panel.grid = element_blank(),
# plot.caption = element_text(hjust = 0, size = 9)
# aspect.ratio = .8 # Plot Seitenverhältnisse ändern
)
ärztinnen %>%
select(-FachärztInnen) %>%
pivot_longer(-c("Bezirk", "Bezirk_Nr", "Jahr"), names_to = "Fachrichtung", values_to = "n") %>%
group_by(Fachrichtung, Jahr) %>%
summarise(n = sum(n, na.rm=T)) %>%
ggplot(aes(x=Jahr, y=n, color=Fachrichtung)) +
geom_point() +
geom_line() +
scale_fill_viridis_c(option = "plasma") +
labs(
title = "Verlauf vom Ärzt:innenangebot \npro medizinischer Fachrichtung",
color = ""
) +
theme_minimal() +
scale_y_continuous(labels=label_comma()) +
theme(
axis.title = element_blank(),
panel.grid = element_blank(),
)
bevölkerung %>%
filter(Jahr > 2019) %>%
left_join(bezirke_wien) %>%
ggplot(aes(x=Jahr, y=Bevölkerung, fill=Bevölkerung)) +
geom_bar(stat="identity") +
# geom_line() +
# scale_fill_viridis_c(option = "plasma") +
labs(
title = "Entwicklung der Bevölkerung pro Wiener Gemeindebezirk von 2020 bis 2024",
color = ""
) +
theme_minimal() +
facet_wrap(~Bezirk_Nr_Name, strip.position = "bottom") +
scale_y_continuous(labels=label_comma()) +
theme(
axis.title = element_blank(),
axis.text.x = element_blank(),
panel.grid = element_blank(),
strip.placement = "outside",
# legend.position = "bottom",
strip.background = element_blank()
)
bevölkerung %>%
filter(Jahr > 2019) %>%
left_join(bezirke_wien) %>%
ggplot(aes(x=Jahr, y=Bevölkerung, fill=Bevölkerung)) +
geom_bar(stat="identity") +
# geom_line() +
# scale_fill_viridis_c(option = "plasma") +
labs(
title = "Entwicklung der Bevölkerung pro Wiener Gemeindebezirk von 2020 bis 2024",
color = ""
) +
theme_minimal() +
facet_wrap(~Bezirk_Nr_Name, strip.position = "bottom") +
scale_y_continuous(labels=label_comma()) +
scale_fill_continuous(labels=label_comma()) +
theme(
axis.title = element_blank(),
axis.text.x = element_blank(),
panel.grid = element_blank(),
strip.placement = "outside",
# legend.position = "bottom",
strip.background = element_blank()
)
krankenhäuser
krankenhäuser %>%
mutate(Pflegeauslastung = Stationäre.Patientinnen.und.Patienten / Personen.in.nicht.ärztlichen.Gesundheitsberufen)
krankenhäuser %>%
mutate(Pflegeauslastung = Stationäre.Patientinnen.und.Patienten / Personen.in.nicht.ärztlichen.Gesundheitsberufen) %>%
arrange(desc(Pflegeauslastung))
krankenhäuser %>%
mutate(Pflegeauslastung = Stationäre.Patientinnen.und.Patienten / Personen.in.nicht.ärztlichen.Gesundheitsberufen) %>%
arrange(desc(Pflegeauslastung)) %>%
select(Krankenanstalt, Pflegeauslastung, Bezirk_Nr)
krankenhäuser %>%
mutate(Pflegeauslastung = Stationäre.Patientinnen.und.Patienten / Personen.in.nicht.ärztlichen.Gesundheitsberufen) %>%
arrange(desc(Pflegeauslastung)) %>%
select(Krankenanstalt, Pflegeauslastung, Bezirk_Nr) %>%
kkable()
krankenhäuser %>%
mutate(Pflegeauslastung = Stationäre.Patientinnen.und.Patienten / Personen.in.nicht.ärztlichen.Gesundheitsberufen) %>%
arrange(desc(Pflegeauslastung)) %>%
select(Krankenanstalt, Pflegeauslastung, Bezirk_Nr) %>%
knitr::kkable()
krankenhäuser %>%
mutate(Pflegeauslastung = Stationäre.Patientinnen.und.Patienten / Personen.in.nicht.ärztlichen.Gesundheitsberufen) %>%
arrange(desc(Pflegeauslastung)) %>%
select(Krankenanstalt, Pflegeauslastung, Bezirk_Nr) %>%
knitr::kable()
krankenhäuser %>%
mutate(Pflegeauslastung = Stationäre.Patientinnen.und.Patienten / Personen.in.nicht.ärztlichen.Gesundheitsberufen) %>%
arrange(desc(Pflegeauslastung)) %>%
select(Krankenanstalt, Pflegeauslastung, Bezirk_Nr) %>%
head(20) %>%
knitr::kable()
krankenhäuser %>%
mutate(Pflegeauslastung = Stationäre.Patientinnen.und.Patienten / Personen.in.nicht.ärztlichen.Gesundheitsberufen) %>%
arrange(desc(Pflegeauslastung)) %>%
select(Krankenanstalt, Pflegeauslastung, Bezirk_Nr, Jahr) %>%
head(20) %>%
knitr::kable()
krankenhäuser %>%
mutate(Pflegeauslastung = Stationäre.Patientinnen.und.Patienten / Personen.in.nicht.ärztlichen.Gesundheitsberufen) %>%
arrange(desc(Pflegeauslastung)) %>%
select(Bezirk_Nr, Krankenanstalt, Pflegeauslastung, Jahr) %>%
head(20) %>%
knitr::kable()
krankenhäuser
krankenhäuser %>%
mutate(
Ärztliche.Auslastung = Stationäre.Patientinnen.und.Patienten / Ärztinnen.und.Ärzte,
Nichtärztliche.Auslastung = Stationäre.Patientinnen.und.Patienten / Personen.in.nicht.ärztlichen.Gesundheitsberufen,
Betten.Auslastung = Stationäre.Patientinnen.und.Patienten / Systematisierte.Betten,
) %>%
arrange(desc(Ärztliche.Auslastung)) %>%
select(Bezirk_Nr, Krankenanstalt, Pflegeauslastung, Jahr) %>%
head(20) %>%
knitr::kable()
krankenhäuser %>%
transmute(
Bezirk_Nr, Krankenanstalt, Jahr,
Ärztliche.Auslastung = Stationäre.Patientinnen.und.Patienten / Ärztinnen.und.Ärzte,
Nichtärztliche.Auslastung = Stationäre.Patientinnen.und.Patienten / Personen.in.nicht.ärztlichen.Gesundheitsberufen,
Betten.Auslastung = Stationäre.Patientinnen.und.Patienten / Systematisierte.Betten,
) %>%
arrange(desc(Ärztliche.Auslastung)) %>%
select(Bezirk_Nr, Krankenanstalt, Pflegeauslastung, Jahr) %>%
head(20) %>%
knitr::kable()
krankenhäuser %>%
transmute(
Bezirk_Nr, Krankenanstalt, Jahr,
Ärztliche.Auslastung = Stationäre.Patientinnen.und.Patienten / Ärztinnen.und.Ärzte,
Nichtärztliche.Auslastung = Stationäre.Patientinnen.und.Patienten / Personen.in.nicht.ärztlichen.Gesundheitsberufen,
Betten.Auslastung = Stationäre.Patientinnen.und.Patienten / Systematisierte.Betten,
) %>%
arrange(desc(Ärztliche.Auslastung)) %>%
# select(Bezirk_Nr, Krankenanstalt, Pflegeauslastung, Jahr) %>%
head(20) %>%
knitr::kable()
krankenhäuser %>%
transmute(
Bezirk_Nr, Krankenanstalt, Jahr,
Ärztliche.Auslastung = Stationäre.Patientinnen.und.Patienten / Ärztinnen.und.Ärzte %>% round(),
Nichtärztliche.Auslastung = Stationäre.Patientinnen.und.Patienten / Personen.in.nicht.ärztlichen.Gesundheitsberufen %>% round(),
Betten.Auslastung = Stationäre.Patientinnen.und.Patienten / Systematisierte.Betten %>% round(),
) %>%
arrange(desc(Ärztliche.Auslastung)) %>%
head(20) %>%
knitr::kable()
krankenhäuser %>%
transmute(
Bezirk_Nr, Krankenanstalt, Jahr,
Ärztliche.Auslastung = (Stationäre.Patientinnen.und.Patienten / Ärztinnen.und.Ärzte) %>% round(),
Nichtärztliche.Auslastung = (Stationäre.Patientinnen.und.Patienten / Personen.in.nicht.ärztlichen.Gesundheitsberufen) %>% round(),
Betten.Auslastung = (Stationäre.Patientinnen.und.Patienten / Systematisierte.Betten) %>% round(),
) %>%
arrange(desc(Ärztliche.Auslastung)) %>%
head(20) %>%
knitr::kable()
krankenhäuser %>%
transmute(
Bezirk_Nr, Krankenanstalt, Jahr,
`Patient:innen pro Ärzt:in` = (Stationäre.Patientinnen.und.Patienten / Ärztinnen.und.Ärzte) %>% round(),
`Patient:innen pro Nicht-Ärzt:in` = (Stationäre.Patientinnen.und.Patienten / Personen.in.nicht.ärztlichen.Gesundheitsberufen) %>% round(),
`Patient:innen pro Bett` = (Stationäre.Patientinnen.und.Patienten / Systematisierte.Betten) %>% round(),
) %>%
arrange(desc(Ärztliche.Auslastung)) %>%
head(20) %>%
knitr::kable()
krankenhäuser %>%
transmute(
Bezirk_Nr, Krankenanstalt, Jahr,
`Patient:innen pro Ärzt:in` = (Stationäre.Patientinnen.und.Patienten / Ärztinnen.und.Ärzte) %>% round(),
`Patient:innen pro Nicht-Ärzt:in` = (Stationäre.Patientinnen.und.Patienten / Personen.in.nicht.ärztlichen.Gesundheitsberufen) %>% round(),
`Patient:innen pro Bett` = (Stationäre.Patientinnen.und.Patienten / Systematisierte.Betten) %>% round(),
) %>%
arrange(desc(`Patient:innen pro Ärzt:in`)) %>%
head(20) %>%
knitr::kable()
